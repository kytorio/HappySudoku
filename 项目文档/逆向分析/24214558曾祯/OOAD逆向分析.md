该项目代码的分析首先如下：
```markdown
+ sudoku/src
  + components:主要是界面及其动效的实现，不含具体算法，仅提供接口
	  + Board:数独界面
		  + Candidates.svelte:候选值界面
		  + Cell.svelte:单元格界面
		  + index.svelte:父界面，涉及标记选中值及其相关单元的面板效果实现
	  + Controls:底部控制台界面
		  + ActionBar:上方按钮界面
			  + Actions.svelte：右侧按钮实现，没有做撤销相关的两个按钮的实现
			  + Timer.svelte：左侧计时器实现，不用动
			  + index.svelte：父界面
		  + Keyboard.svelte:键盘输入实现，同时实现了通过键盘移动选中光标的效果
		  + index.svelte:父界面
	  + Header：顶部栏
		  + Buttons.svelte:右侧按钮实现，对应Share和Settings的弹窗接口
		  + Dropdown.svelte:下拉栏实现，包括选择难度，自行创建新数独题目，解析url的数独
		  + index.svelte:父界面
	  + Model：弹窗：只是提供界面接口，按钮对应的函数由调用弹窗的接口决定（欢迎界面、游戏结束、分享和设置除外，弹窗内已经设置好对应的函数）
		  + Types
			  + Confirm.svelte:确认弹窗，提示文字由接口传输
			  + GameOver.svelte:游戏结束
			  + Prompt.svelte:提供输入栏弹窗，应用于下拉栏中的解析url
			  + QRCode.svelte:二维码的生成
			  + Settings.svelte:设置弹窗的实现
			  + Share.svelte:分享弹窗的实现
			  + Welcome.svelte:欢迎界面弹窗，选择难度或输入sencode
			  + index.js:添加或修改Types内弹窗名字需要同时在这里修改，大概是类似接口的作用
		  + index.svelte
	  + Utils
		  + Clipboard.svelte:剪贴板，提供文字复制的功能
		  + Switch.svelte:定义了一个开关组件（Settings里的那种开关）
  + node_modules/@sudoku:算法的实现主要在这里
	  + sencode：编码
		  + base62.js:提供base62编码和解码功能
		  + index.js：将数独编码和解码到base62
	  + stores：存储各个组件算法实现
		  + candidates.js:候选值更新的组件，注意开启候选功能时这个单元格的value还是视为0，并不会获取到，而是单独存储在cell中的candidates里
		  + cursor.js:选中光标的实现，返回的是光标的坐标
		  + difficulty.js:难度的实现，数独对应难度题目的实现引用了外部模块
		  + game.js:游戏胜利的实现 
		  + grid.js:创建题目，实现用户输入，应用提示功能，这里提示功能的实现是直接填充答案
		  + hints.js:更新剩余提示次数
		  + keyboard.js:实现是否启用键盘输入
		  + modal.js:弹窗的实现
		  + notes.js:开启候选值启用
		  + settings.js:更新设置
		  + timer.js:实现计时器
	  + constants.js:存储各种全局变量
	  + game.js:游戏开始、自定义、暂停的实现
	  + sudoku.js:根据难度生成数独题目、生成数独解（引入外部模块）、打印数独（感觉没用到）
  + styles：样式
	  + global.css
+ package.json //用来引入依赖包
```
# 需求规格
## 项目愿景

该项目旨在使用Svelte技术创建一个简单的数独游戏，该游戏具有简洁直观的用户界面，用户能够自行选择难度游玩，并分享数独谜题。项目提供的核心功能包括：

1. **数独游戏**：提供一个9x9的最基本的数独游戏，包括数独显示界面，计时器及候选值输入的功能。用户能够通过键盘输入或点击虚拟键盘的方式进行输入，系统能在输入后直观反馈用户当前的答案是否与同一单元内已有数字冲突。

2. **难度选择**：系统能够提供四种难度供用户选择：Very Easy，Easy，Medium，Hard
   
3. **分享功能**：用户可以通过链接、社交媒体或二维码分享数独谜题，同时也能解析他人分享的题目进行游玩。
   
4. **提示功能**：为使用户有更好的游戏体验，系统需要为游戏提供提示功能，游戏能够根据当前用户的输入提示接下来可能存在的答案，为用户提供思路。
   
5. **设置和个性化**：系统为用户提供了自定义功能，如允许用户自定义游戏体验，如显示计时器、限制提示数量和高亮相同数字等。

本项目还期望完成撤销/前进功能以及自定义数独谜题的功能，但当前项目并未实现。

## 用例分析

本项目的用例如下：

#### 用例名称：生成数独题目

- **主要参与者**：用户
- **目标**：为用户生成不同难度的数独题目
- **基本流程**：
    1. 用户选择难度（简单、中等、困难等）。
    2. 系统根据选择生成一个新的数独题目。
    3. 用户可以开始游戏。
- **扩展功能**：
    - 支持用户通过分享链接解析数独题目URL并导入。

---

#### 用例名称：填写数独游戏

- **主要参与者**：用户
- **目标**：在提供的数独界面上完成题目的填写
- **基本流程**：
    1. 用户选择一个单元格进行填写。
    2. 系统高亮显示相关行、列、区域的冲突单元格（如有）。
    3. 用户可以填写候选值或直接填写答案。
    4. 填写完成后，用户提交结果。

---

#### 用例名称：游戏结果记录

- **主要参与者**：用户
- **目标**：记录并显示游戏结果
- **基本流程**：
    1. 用户完成数独填写并提交结果。
    2. 系统检测是否满足所有规则。
    3. 如果游戏胜利，记录完成时间和难度等级。
    4. 系统提示用户可以分享结果到社交平台。
- **扩展功能**：
    - 提供实时计时器功能，记录游戏时长。

---

#### 用例名称：分享游戏

- **主要参与者**：用户
- **目标**：分享游戏题目
- **基本流程**：
    1. 用户点击“分享”按钮。
    2. 系统生成一个唯一链接或二维码。
    3. 用户可以将链接/二维码分享到社交平台。
- **扩展功能**：
    - 支持生成社交媒体优化的分享内容（包含图片、文本等）。

---

#### 用例名称：游戏设置

- **主要参与者**：用户
- **目标**：调整游戏相关设置
- **基本流程**：
    1. 用户进入“设置”界面。
    2. 系统提供可选项：调整高亮设置、限制提示次数、启用/禁用候选值功能等。
    3. 用户保存设置并返回游戏界面。
- **扩展功能**：
    - 提供实时预览功能（例如高亮效果的预览）。
    - 保存用户的偏好设置以便下次自动加载。

<img src="img\系统用例图.drawio.png"  />

## 领域模型

### **1. 核心概念**

#### **1.1 数独游戏 (SudokuGame)**

- **定义：** 表示整个数独游戏系统的核心实体，负责管理游戏的主要状态和操作。
- 属性：
  - `difficulty`：游戏难度。
  - `paused`：游戏是否暂停。
  - `hintsAvailable`：剩余提示次数。
  - `board`：当前游戏的棋盘。
  - `settings`：游戏设置选项。
- 方法：
  - `pause()` 和 `resume()`：暂停和恢复游戏。
  - `getHints()`：获取提示功能。
  - `noteCandidates()`：记录可能的候选数字。
  - `createSudoku()`：生成新的数独谜题。
- 领域意义：
  - 表现了游戏的核心业务逻辑，例如游戏的运行状态管理和主要功能实现。

------

#### **1.2 棋盘 (Grid)**

- **定义：** 数独游戏的核心逻辑区域，由多个单元格组成。
- 属性：
  - `cells`：包含所有单元格的集合。
- 方法：
  - `set()`：设置单元格的值。
- 领域意义：
  - 棋盘承载了数独谜题的核心数据结构，是数独逻辑实现的关键。

------

#### **1.3 单元格 (Cell)**

- **定义：** 数独网格中的每个小方格，表示最小的逻辑单元。
- 属性：
  - `value`：当前单元格的值。
  - `cellX` 和 `cellY`：单元格的坐标。
  - `candidates`：可能的候选数字集合。
  - `conflictingNumber`：标记单元格的冲突状态。
  - `userNumber`：用户输入的数字。
- 方法：
  - 无方法直接操作（逻辑集中于 `Grid` 或 `SudokuGame` 中）。
- 领域意义：
  - 单元格是数独游戏的基本单位，体现了解谜的核心逻辑。

------

#### **1.4 候选数字 (Candidates)**

- **定义：** 一个辅助类，用于存储单元格可能的候选数字。
- 属性：
  - `value`：候选数字的数组。
- 方法：
  - `add()`：添加候选数字。
  - `clear()`：清除候选数字。
- 领域意义：
  - 帮助玩家分析每个单元格可能的解答，是游戏逻辑中的辅助部分。

------

### **2. 支持性概念**

#### **2.1 计时器 (Timer)**

- **定义：** 用于管理和记录游戏时间的功能模块。
- 属性：
  - `timeBegan`：计时开始时间。
  - `timeStopped`：计时停止时间。
  - `timeInterval`：记录游戏运行的时间段。
  - `stoppedDuration`：暂停的累计时间。
  - `running`：计时器是否正在运行。
- 方法：
  - `start()`：启动计时器。
  - `stop()`：停止计时器。
  - `reset()`：重置计时器。
- 领域意义：
  - 提供游戏时间记录和管理功能，增加游戏的时间挑战性。

------

#### **2.2 设置 (Settings)**

- **定义：** 管理用户对游戏体验的个性化设置。
- 属性：
  - `displayTimer`：是否显示计时器。
  - `limitHints`：提示的次数限制。
  - `highlightCells`：是否高亮显示单元格。
  - `highlightSame`：是否高亮显示相同数字。
  - `highlightConflicting`：是否高亮显示冲突。
- 领域意义：
  - 设置功能支持用户根据个人偏好调整游戏体验。

------

#### **2.3 分享功能 (Share)**

- **定义：** 提供与他人分享游戏状态或挑战的功能。
- 属性：
  - `sencode`：分享码。
  - `link`：分享链接。
  - `encodedLink`：编码后的分享链接。
  - `facebookLink`、`twitterLink`、`mailToLink`：特定平台的分享链接。
  - `canShare`：是否允许分享。
- 领域意义：
  - 分享功能增强了游戏的社交性，支持用户与他人互动。

------

### **3. 概念之间的关系**

#### **3.1 SudokuGame 和 Grid**

- `SudokuGame` 管理整个游戏流程，其中的 `board` 属性表示当前游戏的棋盘（`Grid`）。
- 棋盘负责具体的数独逻辑实现，包含多个 `Cell`。

#### **3.2 Grid 和 Cell**

- 一个 `Grid` 包含多个 `Cell`，每个单元格存储其具体值和状态。

#### **3.3 SudokuGame 和 Settings**

- `SudokuGame` 使用 `Settings` 来支持个性化配置，提供玩家可调整的游戏选项。

#### **3.4 SudokuGame 和 Timer**

- `SudokuGame` 与 `Timer` 协作管理游戏的时间流，计时器记录玩家的游戏时间，支持暂停和重置。

#### **3.5 SudokuGame 和 Share**

- `SudokuGame` 通过 `Share` 提供分享功能，生成特定的链接或代码供玩家分享给他人。

------

### **4. 整体领域模型的意义**

#### **4.1 支持玩家核心体验**

- **逻辑核心：** `Grid` 和 `Cell` 提供了数独解题的核心逻辑。
- **互动功能：** `Settings` 和 `Share` 增强了玩家的互动和个性化体验。

#### **4.2 提升游戏可用性**

- **时间管理：** 通过 `Timer` 提供计时功能，为游戏增加了挑战性。
- **提示辅助：** 提供 `Candidates` 和 `Settings`，帮助玩家更高效地完成谜题。

#### **4.3 系统模块化**

- **模块化设计：** 各个模块职责分明（如棋盘、设置、分享、计时器等），便于扩展和维护。
- **灵活性：** 提供个性化配置和社交功能，使游戏适应不同玩家的需求。



该系统领域模型如下图所示：

<img src="img\领域模型.drawio.png"  />

# 软件设计规格

## 系统技术架构

### **1. 系统架构概述**

该数独游戏是一个基于前端技术栈的客户端应用程序，使用 **Svelte** 构建用户界面，**JavaScript** 提供逻辑和状态管理，具备以下特点：

- **组件化架构**：通过 Svelte 的单文件组件开发（`.svelte`），实现页面和功能的模块化。
- **状态管理**：通过 JavaScript 编写的 `stores` 模块，管理全局和局部状态（如网格数据、计时器、候选值）。
- **响应式更新**：利用 Svelte 的响应式特性，自动处理数据与视图的双向绑定。
- **模块化代码组织**：通过合理划分文件夹（如 `components`、`stores`、`utils` 等），清晰地管理项目的功能逻辑。
- **本地存储**：在游戏保存与恢复时，可能利用浏览器的 `LocalStorage` 来持久化状态。

---
### **2. 系统架构分层**

按照现代前端架构惯例，数独游戏的系统架构可以分为以下几层：

#### **(1) 表现层（View Layer）**

- **技术栈**：Svelte 组件。
- **职责**：
    - 提供用户界面（UI），如数独网格、候选值选择、计时器、提示功能等。
    - 与用户交互，通过事件监听（如点击、键盘输入）触发操作。
    - 调用 `stores`（状态管理）来读取和更新数据。
- **文件对应**：
    - **主要目录**：`/components`
    - **示例组件**：
        - `Board`（数独网格）
        - `Controls`（控制面板，包括按钮、键盘输入等）
        - `Header`（顶栏按钮，如新建游戏、难度选择）
        - `Model`（弹窗，如分享、设置、游戏结束）
    - **样式文件**：`styles/global.css`，提供全局样式支持。

#### **(2) 逻辑层（Logic Layer）**

- **职责**：
    - 处理核心业务逻辑，如数独网格的生成、难度调整、提示逻辑。
    - 提供通用工具函数和辅助模块。
    - 与存储层和表现层交互，为表现层提供数据支持。
- **文件对应**：
    - **主要目录**：`/stores` 和 `/sencode`
    - **主要模块**：
        - `sudoku.js`：数独题目的生成逻辑。
        - `difficulty.js`：根据难度调整网格生成的模块。
        - `hints.js`：提示功能的实现。
        - `keyboard.js`：键盘输入逻辑（处理按键事件）。
        - `modal.js`：弹窗的管理逻辑。
    - **工具模块**：
        - `base62.js`：数据编码功能（如用于分享的URL生成）。
        - `clipboard.js`：实现数据复制功能。

#### **(3) 状态管理层（State Management Layer）**

- **技术栈**：Svelte `stores`（Svelte 原生的状态管理工具）。
- **职责**：
    - 管理全局状态（如网格数据、当前难度、计时器状态）。
    - 提供订阅和响应式数据绑定，通知界面组件实时更新。
    - 将状态持久化到本地（如 LocalStorage）。
- **文件对应**：
    - **主要目录**：`/stores`
    - **示例状态管理模块**：
        - `candidates.js`：管理候选值状态。
        - `difficulty.js`：管理游戏难度。
        - `game.js`：管理游戏进度和网格状态。
        - `timer.js`：管理计时器状态。
        - `settings.js`：管理用户设置（如主题、提示开关）。

#### **(4) 数据层（Data Layer）**

- **职责**：
    - 存储数独题目、游戏状态和用户设置。
    - 可能通过浏览器 LocalStorage 或 SessionStorage 实现持久化存储。
    - 数据可以直接通过 `stores` 模块管理，并存储在客户端。
- **文件对应**：
    - **主要目录**：`/stores` 和浏览器存储（如 LocalStorage）。
    - **实现方式**：
        - 数据的生成与存储直接在前端完成，无需后端支持。
        - 使用工具模块（如 `clipboard.js`）完成导入、导出或分享操作。

---

### **3. 系统运行流程**

以下描述了数独游戏在用户交互中的主要运行流程：

#### **(1) 游戏初始化**

- 用户打开页面后：
    1. 系统调用 `difficulty.js` 设置默认难度。
    2. 系统通过 `sudoku.js` 生成对应难度的数独网格，并存储到 `game.js`。
    3. 将数独网格的初始状态绑定到 `Board` 组件，通过 Svelte 响应式特性自动渲染。

#### **(2) 数字填写**

- 用户在网格中点击单元格：
    1. 触发点击事件，将选中的单元格位置存储到 `cursor.js`。
    2. 键盘输入时，系统通过 `keyboard.js` 检测输入内容是否合法。
    3. 更新 `game.js` 中的网格状态，Svelte 自动更新视图。

#### **(3) 使用提示**

- 用户点击提示按钮：
    1. 系统调用 `hints.js` 提供提示数据（如候选值或正确答案）。
    2. 提示内容更新到 `candidates.js` 或直接更新 `game.js` 的网格状态。

#### **(4) 游戏结束**

- 用户完成网格后：
    1. 系统调用 `game.js` 检查答案是否正确。
    2. 如果正确，触发 `Model/GameOver.svelte`，显示游戏完成信息（时间、难度、分享选项）。

#### **(5) 分享与导出**

- 用户点击分享按钮：
    1. 系统调用 `Share.svelte` 和 `QRCode.svelte`，生成分享链接或二维码。
    2. 链接或二维码通过 `clipboard.js` 复制到剪贴板。

---

### **4. 架构特点**

- **组件化开发**：通过 Svelte 将功能模块划分为独立的组件，职责清晰，易于维护。
- **响应式更新**：利用 Svelte 的响应式数据绑定，减少手动 DOM 操作，提高开发效率。
- **状态集中管理**：通过 `stores` 实现全局和局部状态的统一管理，避免复杂的数据流动。
- **性能优化**：Svelte 编译时优化，使得界面更新更高效。

---

### **5. 系统架构图**

以下是该系统架构的逻辑示意图：

<img src="img\系统技术架构.drawio.png"  />

## 对象模型

#### 1. **核心类分析**

1. **Cell (单元格类)**
   
    - **描述**：`Cell`类表示数独棋盘上的一个单元格，包含数值和状态属性，支持值的设置和清空操作。
    - **属性**：
        - `value`：单元格的数值。
        - `cellX`：单元格的横坐标。
        - `cellY`：单元格的纵坐标。
        - `candidates`：候选值集合，类型为`Candidates`。
        - `disabled`：布尔值，指示单元格是否不可编辑。
        - `conflictingNumber`：当前单元格存在冲突时的数值。
        - `selected`：布尔值，是否选中。
        - `usernumber`：用户输入的数值。
    - **方法**：
        - `setValue(pos, num)`：设置单元格的值。
        - `clear()`：清空单元格内容。
2. **Grid (棋盘类)**
   
    - **描述**：`Grid`类由多个单元格(`Cell`)组成，表示整个数独棋盘。
    - **属性**：
        - `cells`：包含81个`Cell`对象的集合。
3. **Board (棋盘视图类)**
   
    - **描述**：`Board`类表示数独棋盘的界面显示部分，与`Grid`直接关联。
    - **属性**：
        - `cells`：引用了`Grid`类中的单元格集合，用于显示棋盘。
4. **SudokuGame (数独游戏类)**
   
    - **描述**：`SudokuGame`类为数独游戏的整体管理类，包含棋盘、控制面板和头部信息。
    - **属性**：
        - `header`：表示游戏头部，包含按钮和下拉菜单。
        - `board`：表示数独棋盘部分。
        - `controls`：表示控制区域，包括计时器和按钮功能。
5. **Controls (控制面板类)**
   
    - **描述**：`Controls`类管理游戏的操作部分，包括动作栏、键盘输入和计时器。
    - **属性**：
        - `actionbar`：动作栏，包含主要的功能按钮（如暂停、提示）。
        - `keyboard`：虚拟键盘，用于用户输入。
        - `Timer`：计时器类，显示游戏时间。
6. **ActionBar (动作栏类)**
   
    - **描述**：`ActionBar`类为用户提供主要操作功能按钮的实现。
    - **属性**：
        - `actions`：动作按钮集合（由`Actions`类提供）。
        - `timer`：计时器对象。
7. **Header (头部类)**
   
    - **描述**：`Header`类为游戏头部，包含分享按钮和设置菜单等功能。
    - **属性**：
        - `buttons`：头部的按钮，支持分享和设置。
        - `dropdown`：下拉菜单，支持难度选择、自定义题目输入等功能。
    - **方法**：
        - `handleShareButton()`：处理分享按钮的点击操作。
        - `handleSettingsButton()`：处理设置按钮的点击操作。
8. **Actions (动作处理类)**
   
    - **描述**：`Actions`类封装了用户操作的具体实现，如提示和暂停功能。
    - **方法**：
        - `handleHints()`：提供提示功能。
        - `handleNotesToggle()`：启用/关闭候选值功能。
        - `pauseGame()`：暂停游戏。
        - `resumeGame()`：恢复游戏。

---

#### 2. **功能模块分析**

1. **候选值模块（Candidates）**
   
    - **描述**：该模块用于管理单元格的候选值集合，支持动态更新和显示。
    - **属性**：
        - `candidates`：存储候选值的数组。
2. **键盘模块（Keyboard）**
   
    - **描述**：支持用户通过键盘输入数值或移动光标。
    - **方法**：
        - `handleKeyButton(num)`：处理数字键输入。
        - `handleKey(e)`：处理键盘事件。
3. **计时器模块（Timer）**
   
    - **描述**：显示游戏时长，支持暂停与恢复操作。
    - **方法**：
        - `pauseGame()`：暂停计时器。
        - `resumeGame()`：恢复计时器。
4. **按钮模块（Buttons）**
   
    - **描述**：实现分享和设置功能按钮的操作。
    - **方法**：
        - `handleShareButton()`：生成分享链接或二维码。
        - `handleSettingsButton()`：打开设置界面。
5. **下拉菜单模块（Dropdown）**
   
    - **描述**：实现难度选择、自定义题目等功能的下拉菜单操作。
    - **方法**：
        - `handleDifficulty(difficultyValue)`：设置游戏难度。
        - `handleCreateOwn()`：创建自定义题目。
        - `handleEnterCode()`：解析用户输入的题目编码。

---

#### 3. **类间关系分析**

- **聚合关系**：
  
    - `SudokuGame`类聚合了`Header`、`Board`和`Controls`，表示游戏的核心逻辑和界面部分。
    - `Controls`类聚合了`ActionBar`、`Keyboard`和`Timer`，实现控制面板功能。
- **依赖关系**：
  
    - `Grid`依赖于多个`Cell`对象。
    - `Header`依赖`Buttons`和`Dropdown`，处理具体的用户交互功能。

<img src="img\对象模型.drawio.png"  />

## 设计改进建议

优点：

1. **模块化设计**：项目结构清晰，组件划分合理，便于维护和扩展。例如，components目录下的各个子目录（如 `Board`, `Controls`, `Header`, `Modal` 等）分别对应不同的功能模块。且UI与算法模块分开，components下的代码只提供界面接口，提升可维护性

2. **封装和重用性**：各功能模块封装为独立文件，如`grid.js`实现各数独网络定义和创建，`hints.js`处理提示逻辑等，便于后续维护和扩展；且弹窗部分提供了重复接口，通过传入函数和参数调用避免了重复代码。

3. **组件复用**：通过组件化设计，实现了代码的复用。例如，`Switch` 组件在多个地方使用，减少了重复代码。
   
4. **继承性和扩展性**：通过对 `Stores` 模块和 `components` 模块的功能分层，实现了良好的扩展性。例如：
	- 新增算法功能时，可以扩展 `@sudoku/stores` 的模块。
	- 弹窗逻辑可通过修改 `Model/Types/index.js` 轻松扩展。


缺点：

1. **组件间耦合度高**：部分组件之间的耦合度较高，可能导致某些组件的修改会影响到其他组件。例如，`game.js` 中包含过多逻辑（开始、暂停、胜利等），不符合单一职责原则（SRP） 。

2. **界面组件依赖性较高**：UI 组件如 `Controls`、`Header` 和其子组件（如 `Timer.svelte`）之间存在一定耦合性。若需更改交互逻辑，可能需同时改动多个文件。

3. **缺乏文档**：项目中缺乏详细的文档说明和注释，可能会导致新开发者在接手项目时需要花费较多时间理解代码逻辑和结构。
   
4. **部分功能未完善**：没有实现前进和后退功能。
   
5. **缺乏测试设计**：当前项目中未提及单元测试或集成测试，对核心功能（如数独生成、提示算法）的可靠性保障不足。


改进建议：

1. **降低组件间耦合度**：例如将`game.js`组件中的功能进一步拆分，如要实现的撤销和前进功能可以单独模块化。

2. **实现撤销与回溯功能**：可引入操作记录栈（Undo/Redo Stack），记录每一步用户的操作。
   
3. **降低组件间的依赖性**：例如通过状态管理工具（如 Svelte 的 Store API）集中管理状态，减少组件直接通信。

4. **完善文档**：编写详细的项目文档，包括项目结构说明、组件说明、状态管理说明等，帮助新开发者快速上手项目。
   
5. **引入单元测试**：增加单元测试框架（如 Jest 或 Mocha），对算法模块（如 `grid.js`, `difficulty.js`）进行充分测试。

